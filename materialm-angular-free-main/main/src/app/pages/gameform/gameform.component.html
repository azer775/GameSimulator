<div class="form-container">
  <h2>Create a New Game</h2>

  <form [formGroup]="gameForm" (ngSubmit)="createGame()" class="game-form">
    <!-- Name -->
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" formControlName="name" required />
      <div *ngIf="gameForm.get('name')?.invalid && gameForm.get('name')?.touched" class="error-message">
        <span *ngIf="gameForm.get('name')?.hasError('required')">Name is required.</span>
        <span *ngIf="gameForm.get('name')?.hasError('minlength')">Name must be at least 3 characters long.</span>
      </div>
    </div>

    <!-- Start Date -->
    <div class="form-group">
      <label for="startDate">Start Date</label>
      <input type="datetime-local" id="startDate" formControlName="startDate" required />
      <div *ngIf="gameForm.get('startDate')?.invalid && gameForm.get('startDate')?.touched" class="error-message">
        Start Date is required.
      </div>
    </div>

    <!-- End Date -->
    <div class="form-group">
      <label for="endDate">End Date</label>
      <input type="datetime-local" id="endDate" formControlName="endDate" required />
      <div *ngIf="gameForm.get('endDate')?.invalid && gameForm.get('endDate')?.touched" class="error-message">
        End Date is required.
      </div>
    </div>

    <!-- Virtual Start Date -->
    <div class="form-group">
      <label for="virtualStartDate">Virtual Start Date</label>
      <input type="datetime-local" id="virtualStartDate" formControlName="virtualStartDate" required />
      <div *ngIf="gameForm.get('virtualStartDate')?.invalid && gameForm.get('virtualStartDate')?.touched" class="error-message">
        Virtual Start Date is required.
      </div>
    </div>

    <!-- Simulation Days -->
    <div class="form-group">
      <label for="simulationDays">Simulation Days</label>
      <input type="number" id="simulationDays" formControlName="simulationDays" required />
      <div *ngIf="gameForm.get('simulationDays')?.invalid && gameForm.get('simulationDays')?.touched" class="error-message">
        <span *ngIf="gameForm.get('simulationDays')?.hasError('required')">Simulation Days are required.</span>
        <span *ngIf="gameForm.get('simulationDays')?.hasError('min')">Minimum value is 1.</span>
      </div>
    </div>

    <!-- Candles per Day -->
    <div class="form-group">
      <label for="candlesPerDay">Candles per Day</label>
      <input type="number" id="candlesPerDay" formControlName="candlesPerDay" required />
      <div *ngIf="gameForm.get('candlesPerDay')?.invalid && gameForm.get('candlesPerDay')?.touched" class="error-message">
        <span *ngIf="gameForm.get('candlesPerDay')?.hasError('required')">Candles per Day are required.</span>
        <span *ngIf="gameForm.get('candlesPerDay')?.hasError('min')">Minimum value is 1.</span>
      </div>
    </div>

    <!-- Starting Amount -->
    <div class="form-group">
      <label for="startingAmount">Starting Amount</label>
      <input type="number" id="startingAmount" formControlName="startingAmount" required />
      <div *ngIf="gameForm.get('startingAmount')?.invalid && gameForm.get('startingAmount')?.touched" class="error-message">
        <span *ngIf="gameForm.get('startingAmount')?.hasError('required')">Starting Amount is required.</span>
        <span *ngIf="gameForm.get('startingAmount')?.hasError('min')">Minimum value is 1.</span>
      </div>
    </div>

    <!-- Allow Stoploss -->
    <div class="form-group">
      <label>
        <input type="checkbox" id="Allowstoploss" formControlName="allowstoploss" />
        Allow Stoploss
      </label>
    </div>

    <!-- Allow Take Profit -->
    <div class="form-group">
      <label>
        <input type="checkbox" id="Allowtakeprofit" formControlName="allowtakeprofit" />
        Allow Take Profit
      </label>
    </div>

    <!-- Allow Short Position -->
    <div class="form-group">
      <label>
        <input type="checkbox" id="Allowshortpos" formControlName="allowshortpos" />
        Allow Short Position
      </label>
    </div>

    <!-- Allow Long Position -->
    <div class="form-group">
      <label>
        <input type="checkbox" id="Allowlongpos" formControlName="allowlongpos" />
        Allow Long Position
      </label>
    </div>

    <!-- Validation for at least one position -->
    <div *ngIf="gameForm.hasError('atLeastOnePosition') && gameForm.get('allowshortpos')?.touched && gameForm.get('allowlongpos')?.touched" class="error-message">
      You must select at least one position (Short or Long).
    </div>

    <!-- Submit Button -->
    <button type="submit" [disabled]="gameForm.invalid">Create Game</button>
  </form>
</div>